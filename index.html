<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoZib - Smart Waste Management</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <div class="logo">
                <img src="images/logo.png" alt="EcoZib Logo">
                <span> EcoZib</span>
            </div>
            <div class="hamburger">
                <div class="line1"></div>
                <div class="line2"></div>
                <div class="line3"></div>
            </div>
            <nav>
                <ul>
                    <li><a href="#about">About Us</a></li>
                    <li><a href="#solutions" class="active">Solutions</a></li>
                    <li><a href="#features">Features</a></li>
                    <li><a href="#contact">Contact Us</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="section hero" id="about">
        <div class="hero-content">
            <div class="section-label">WHO WE ARE</div>
            <h1>The Future of Waste Management is Smart.</h1>
            <p>As cities grow and sustainability becomes urgent, EcoZib helps solve one of the biggest urban challenges - waste management. Our IoT-based system detects fill levels and alerts staff in real time, making waste collection efficient, clean and sustainable.</p>
            <a href="#features" class="btn">Explore Features <i class="fas fa-arrow-right"></i></a>
        </div>
        <div class="hero-image">
            <img src="images/robot.png" alt="Smart Waste Management Robot">
        </div>
    </section>

    <!-- Features Grid -->
    <div class="features-grid">
        <div class="feature-item">
            <i class="fas fa-microchip"></i>
            <h3>Install Sensors</h3>
        </div>
        <div class="feature-item">
            <i class="fas fa-map-marker-alt"></i>
            <h3>Track Bins</h3>
        </div>
        <div class="feature-item">
            <i class="fas fa-bell"></i>
            <h3>Receive Alerts</h3>
        </div>
        <div class="feature-item">
            <i class="fas fa-chart-line"></i>
            <h3>View Analytics</h3>
        </div>
    </div>
    
    <!-- Problem Section -->
    <section class="section problem" id="solutions">
        <div class="problem-image">
            <img src="images/wasteimage1.png" alt="Waste Management Problems">
        </div>
        <div class="problem-content">
            <div class="section-label">PROBLEM</div>
            <h2>Waste Management is Broken.</h2>
            <p>Across cities, parks, campuses, and public spaces, trash collection still relies on fixed schedules and manual checks. The result? Bins overflow before they're emptied – or trucks arrive for half-full bins. Both waste time, resources, fuel, and labor.</p>
            <div class="problem-details">
                <h4>Main Problems</h4>
                <ul class="problem-list">
                    <li>Frustration for residents and visitors</li>
                    <li>Wasted resources</li>
                    <li>Decreased public cleanliness</li>
                    <li>Higher operational costs</li>
                    <li>Low transparency of waste efficiency</li>
                </ul>
            </div>
        </div>
    </section>
    
    <!-- Solution Section -->
    <section class="section solution">
        <div class="solution-content">
            <div class="section-label">OUR SOLUTION</div>
            <h2>EcoZib Makes It Smart.</h2>
            <p>Our IoT sensors monitor fill levels in real time. When a bin is full, EcoZib sends instant alerts to cleaning teams – no guesswork, no wasted trips. You'll also gain access to a dashboard with valuable insights to maximize your environmental impact.</p>
            <div class="solution-features">
                <div class="solution-item">
                    <i class="fas fa-chart-bar"></i>
                    <span>Live Bin Monitoring</span>
                </div>
                <div class="solution-item">
                    <i class="fas fa-route"></i>
                    <span>Optimized Collection Routes</span>
                </div>
                <div class="solution-item">
                    <i class="fas fa-bell"></i>
                    <span>Smart Notifications</span>
                </div>
                <div class="solution-item">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Waste Insights Dashboard</span>
                </div>
            </div>
        </div>
        <div class="solution-images">
            <img src="images/image 25475.png" alt="Smart Bin with Full Signal">
            <img src="images/image 25476.png" alt="Smart Bin with Medium Signal">
            <img src="images/image 25477.png" alt="Smart Bin in Winter">
            <img src="images/image 25478.png" alt="Recycling Bin">
        </div>
    </section>
    
    <!-- Key Features Section -->
    <section class="section key-features" id="features">
        <div class="section-label">KEY FEATURES</div>
        <h2>Smart Features for a Cleaner, Greener City</h2>
        
        <div class="feature-cards">
            <div class="feature-card">
                <i class="fas fa-signal"></i>
                <h3>Real-Time Fill-Level Detection</h3>
                <p>Sensors track how full bins are in real-time</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-bell"></i>
                <h3>Instant Notifications</h3>
                <p>Cleaning staff are notified immediately when bins need emptying</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-chart-pie"></i>
                <h3>Analytics Dashboard</h3>
                <p>Monitor waste levels and optimize collection schedules</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-leaf"></i>
                <h3>Cost & Carbon Savings</h3>
                <p>Fewer unnecessary trips mean reduced fuel and lower emissions</p>
            </div>
        </div>
    </section>
    
    <!-- Benefits Section -->
    <section class="section benefits">
        <div class="section-label">WHY ECOZIB?</div>
        <h2>Because Smarter Waste Collection Should Be the Standard.</h2>
        <p>EcoZib isn't just about technology – it's about creating cleaner environments, saving resources, and building smarter cities. Here's what sets us apart:</p>
        
        <div class="benefit-cards">
            <div class="benefit-card">
                <h3>Fewer Collection Trips</h3>
                <p>Our system helps reduce unnecessary pickups by up to 30%, cutting fuel and labor costs</p>
            </div>
            <div class="benefit-card">
                <h3>Actionable Data & Insights</h3>
                <p>Track usage patterns, identify problem areas, and optimize operations with our analytics</p>
            </div>
            <div class="benefit-card">
                <h3>Cleaner Public Spaces</h3>
                <p>Thriving waste areas are emptied before they overflow – keeping streets clean and residents happy</p>
            </div>
            <div class="benefit-card">
                <h3>Sustainable Impact</h3>
                <p>Lower emissions, less waste, and smarter logistics contribute to a more eco-conscious city</p>
            </div>
        </div>
    </section>
    
    <!-- Team Section -->
    <section class="section team">
        <h2>Meet The Team Behind EcoZib</h2>
        <div class="team-grid">
            <div class="team-member">
                <img src="images/orxan.png" alt="Team Member">
                <div class="team-member-info">
                    <h4>Orkhan Mammadzade</h4>
                    <p>CEO & AI Lead</p>
                </div>
            </div>
            <div class="team-member">
                <img src="images/ayxan.jpg" alt="Team Member">
                <div class="team-member-info">
                    <h4>Aykhan Mammadov</h4>
                    <p>Lead Developer</p>
                </div>
            </div>
            <div class="team-member">
                <img src="images/leman.png" alt="Team Member">
                <div class="team-member-info">
                    <h4>Laman Hasanzada</h4>
                    <p>Head of Design</p>
                </div>
            </div>
            <div class="team-member">
                <img src="images/mehemmed.png" alt="Team Member">
                <div class="team-member-info">
                    <h4>Mahammad Guliyev</h4>
                    <p>Data Scientist</p>
                </div>
            </div>
            <div class="team-member">
                <img src="images/abdullah.jpg" alt="Team Member">
                <div class="team-member-info">
                    <h4>Abdullah Alakbarli</h4>
                    <p>Project Manager</p>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Contact Section -->
    <section class="section contact" id="contact">
        <h2>Have any Questions? Get In Touch with Us</h2>
        <div class="contact-form">
            <div class="form-row">
                <div class="form-group">
                    <label for="firstName">First Name</label>
                    <input type="text" id="firstName" placeholder="Your first name" required>
                </div>
                <div class="form-group">
                    <label for="lastName">Last Name</label>
                    <input type="text" id="lastName" placeholder="Your last name" required>
                </div>
            </div>
            <div class="form-group">
                <label for="email">Email Address</label>
                <input type="email" id="email" placeholder="Your email address" required>
            </div>
            <div class="form-group">
                <label for="message">Your Message</label>
                <textarea id="message" placeholder="How can we help you?" required></textarea>
            </div>
            <button class="submit-btn" onclick="sendEmail()">SEND MESSAGE <i class="fas fa-paper-plane"></i></button>
        </div>
    </section>
    
    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-column">
                <h3>EcoZib</h3>
                <p>Smart waste management solutions for a cleaner, more sustainable future.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul class="footer-links">
                    <li><a href="#about">About Us</a></li>
                    <li><a href="#solutions">Our Solutions</a></li>
                    <li><a href="#features">Key Features</a></li>
                    <li><a href="#contact">Contact Us</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Contact Info</h3>
                <ul class="footer-links">
                    <li><i class="fas fa-map-marker-alt"></i> Khirdalan, Baku Engineering University</li>
                    <li><i class="fas fa-phone"></i> +994556931165</li>
                    <li><i class="fas fa-envelope"></i>ecozib6@gmail.com</li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 EcoZib. All Rights Reserved.</p>
        </div>
    </footer>

    <!-- Load script for interactivity -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script>
        // Rate limiting and security measures
        const RATE_LIMIT = {
            maxAttempts: 2,
            timeWindow: 3600000, // 1 hour in milliseconds
            attempts: {}
        };

        function checkRateLimit(email) {
            const now = Date.now();
            if (!RATE_LIMIT.attempts[email]) {
                RATE_LIMIT.attempts[email] = {
                    count: 0,
                    firstAttempt: now
                };
            }

            const userAttempts = RATE_LIMIT.attempts[email];
            
            // Reset if time window has passed
            if (now - userAttempts.firstAttempt > RATE_LIMIT.timeWindow) {
                userAttempts.count = 0;
                userAttempts.firstAttempt = now;
            }

            // Check if user has exceeded rate limit
            if (userAttempts.count >= RATE_LIMIT.maxAttempts) {
                const timeLeft = Math.ceil((RATE_LIMIT.timeWindow - (now - userAttempts.firstAttempt)) / 60000);
                throw new Error(`Rate limit exceeded. Please try again in ${timeLeft} minutes.`);
            }

            userAttempts.count++;
        }

        // Input validation
        function validateInput(input) {
            // Remove any HTML tags and scripts
            return input.replace(/<[^>]*>/g, '');
        }

        function validateEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        function validateName(name) {
            // Only allow letters, spaces, and basic punctuation
            return /^[a-zA-ZğüşıöçĞÜŞİÖÇ\s\-']{2,50}$/.test(name);
        }

        // Get QR Code ID from URL if exists
        function getQRCodeId() {
            const urlParams = new URLSearchParams(window.location.search);
            const id = urlParams.get('id');
            
            if (!id) {
                const pathParts = window.location.pathname.split('/');
                const lastPart = pathParts[pathParts.length - 1];
                if (lastPart && lastPart.match(/^\d+$/)) {
                    return lastPart;
                }
            }
            
            return id || 'Direct Visit';
        }

        document.addEventListener('DOMContentLoaded', function() {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('nav ul li a');
            const footerLinks = document.querySelectorAll('.footer-links a[href^="#"]');
            const hamburger = document.querySelector('.hamburger');
            const navMenu = document.querySelector('nav ul');
            const body = document.body;
            
            // Initialize EmailJS
            emailjs.init("7n_CagB1xIbXj7VA_");
            
            // Check for ID in URL and handle it
            const qrCodeId = getQRCodeId();
            if (qrCodeId !== 'Direct Visit') {
                // Scroll to contact form
                const contactSection = document.querySelector('#contact');
                if (contactSection) {
                    window.scrollTo({
                        top: contactSection.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }

                // Pre-fill the message
                const messageField = document.getElementById('message');
                if (messageField) {
                    messageField.value = qrCodeId + " ID'li trash can'da sorun var.";
                }
            }
            
            // Mobile menu toggle
            hamburger.addEventListener('click', function() {
                hamburger.classList.toggle('active');
                navMenu.classList.toggle('active');
                body.classList.toggle('body-scroll-lock');
            });
            
            // Close mobile menu when clicking a link
            navLinks.forEach(link => {
                link.addEventListener('click', function() {
                    hamburger.classList.remove('active');
                    navMenu.classList.remove('active');
                    body.classList.remove('body-scroll-lock');
                });
            });
            
            // Close mobile menu when clicking outside
            document.addEventListener('click', function(e) {
                if (navMenu.classList.contains('active') && 
                    !navMenu.contains(e.target) && 
                    !hamburger.contains(e.target)) {
                    hamburger.classList.remove('active');
                    navMenu.classList.remove('active');
                    body.classList.remove('body-scroll-lock');
                }
            });
            
            // Set initial active state based on URL hash
            function setInitialActive() {
                const hash = window.location.hash;
                if (hash) {
                    navLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === hash) {
                            link.classList.add('active');
                        }
                    });
                } else {
                    // If no hash, set the Solutions as active by default
                    navLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === '#solutions') {
                            link.classList.add('active');
                        }
                    });
                }
            }
            
            // Run initial setup
            setInitialActive();
            
            function highlightNavigation() {
                let scrollY = window.pageYOffset;
                let currentActive = null;
                
                sections.forEach(current => {
                    const sectionHeight = current.offsetHeight;
                    const sectionTop = current.offsetTop - 100;
                    const sectionId = current.getAttribute('id');
                    
                    if (scrollY > sectionTop && scrollY <= sectionTop + sectionHeight) {
                        currentActive = '#' + sectionId;
                    }
                });
                
                if (currentActive) {
                    navLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === currentActive) {
                            link.classList.add('active');
                        }
                    });
                }
            }
            
            window.addEventListener('scroll', highlightNavigation);
            
            // Add smooth scrolling to navigation links
            function scrollToSection(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                const targetSection = document.querySelector(targetId);
                
                if (targetSection) {
                    window.scrollTo({
                        top: targetSection.offsetTop - 80,
                        behavior: 'smooth'
                    });
                    
                    // Update URL hash without jumping
                    history.pushState(null, null, targetId);
                    
                    // Remove active class from all links and add to clicked link
                    navLinks.forEach(navLink => navLink.classList.remove('active'));
                    if (this.parentElement.parentElement.classList.contains('nav')) {
                        this.classList.add('active');
                    }
                }
            }
            
            // Apply smooth scrolling to all navigation links
            navLinks.forEach(link => {
                link.addEventListener('click', scrollToSection);
            });
            
            // Apply smooth scrolling to footer quick links
            footerLinks.forEach(link => {
                link.addEventListener('click', scrollToSection);
            });

            // Add input validation listeners
            const inputs = document.querySelectorAll('input, textarea');
            inputs.forEach(input => {
                input.addEventListener('input', function() {
                    this.value = validateInput(this.value);
                });
            });
        });

        // Email sending function with security measures
        function sendEmail() {
            try {
                const firstName = validateInput(document.getElementById('firstName').value);
                const lastName = validateInput(document.getElementById('lastName').value);
                const email = validateInput(document.getElementById('email').value);
                const message = validateInput(document.getElementById('message').value);
                const qrCodeId = getQRCodeId();

                // Validate inputs
                if (!firstName || !lastName || !email || !message) {
                    throw new Error('Please fill in all fields');
                }

                if (!validateName(firstName) || !validateName(lastName)) {
                    throw new Error('Please enter valid names (only letters, spaces, and basic punctuation)');
                }

                if (!validateEmail(email)) {
                    throw new Error('Please enter a valid email address');
                }

                if (message.length < 10) {
                    throw new Error('Message must be at least 10 characters long');
                }

                if (message.length > 1000) {
                    throw new Error('Message must not exceed 1000 characters');
                }

                // Check rate limit
                checkRateLimit(email);

                // Show loading state
                const submitButton = document.querySelector('.submit-btn');
                const originalText = submitButton.innerHTML;
                submitButton.innerHTML = 'SENDING... <i class="fas fa-spinner fa-spin"></i>';
                submitButton.disabled = true;

                const templateParams = {
                    to_email: 'amemmedov35@std.beu.edu.az',
                    from_name: `${firstName} ${lastName}`,
                    from_email: email,
                    message: message,
                    qr_code_id: qrCodeId,
                    report_time: new Date().toLocaleString('tr-TR'),
                    location: 'Baku Engineering University, Khirdalan',
                    ip_address: 'Not available', // IP address will be handled by EmailJS
                    user_agent: navigator.userAgent
                };

                emailjs.send('service_o8qitlf', 'template_u959wut', templateParams)
                    .then(function(response) {
                        alert('Message sent successfully!');
                        document.getElementById('firstName').value = '';
                        document.getElementById('lastName').value = '';
                        document.getElementById('email').value = '';
                        document.getElementById('message').value = '';
                        submitButton.innerHTML = originalText;
                        submitButton.disabled = false;
                    }, function(error) {
                        throw new Error('Failed to send message. Please try again later.');
                    });
            } catch (error) {
                alert(error.message);
                console.error('Error:', error);
                const submitButton = document.querySelector('.submit-btn');
                submitButton.innerHTML = 'SEND MESSAGE <i class="fas fa-paper-plane"></i>';
                submitButton.disabled = false;
            }
        }
    </script>
</body>
</html> 
